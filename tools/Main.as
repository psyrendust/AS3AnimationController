package  {	import fl.controls.Label;			import com.psyrendust.control.types.AnimationControllerType;			import flash.events.Event;			import net.guttershark.support.preloading.Asset;			import fl.controls.Button;		import net.guttershark.control.PreloadController;	import net.guttershark.managers.AssetManager;	import net.guttershark.managers.EventManager;		import com.psyrendust.control.AnimationController;		import flash.display.MovieClip;			/**	 * @author lgordon@psyrendust.com	 */	public class Main extends MovieClip 	{		private var ac1:AnimationController;		private var am:AssetManager;		private var em:EventManager;		private var pc:PreloadController;		private var spacer:int = 5;		private var btnList:Array;		public var btn_play:Button;		public var btn_stop:Button;		public var btn_toggleDir:Button;		public var btn_speedUp:Button;		public var btn_speedDown:Button;		public var btn_stopAtLabel:Button;		public var label:Label;		public function Main()		{			am=AssetManager.gi();			em=EventManager.gi();			btnList = new Array();						btnList.push(new Button());			btnList.push(new Button());			btnList.push(new Button());			btnList.push(new Button());			btnList.push(new Button());			btnList.push(new Button());			btnList.push(new Button());						label = new Label();			label.width = 600;			label.y = 50;			label.x = 19;			addChild(label);						btnList[0].label = "play";			btnList[1].label = "play";			btnList[2].label = "stop";			btnList[3].label = "toggle dir";			btnList[4].label = "speed up";			btnList[5].label = "slow down";			btnList[6].label = "stop at label";			var l:int = btnList.length;			// TODO: fix			//for(var i:int=0; i<l)		}		private function getButton(s):Button		{					}		public function addSWF():void		{			var assets:Array = [				new Asset("../exampleAssets/animation1.swf","animation1")			];			pc=new PreloadController(100);			pc.addItems(assets);			em.he(pc,this,"onPreload",true);			pc.start();		}		public function onPreloadComplete(e:Event):void		{			setLayout();			addButtonEvents();		}		public function setLayout():void		{			var l:int = btnList.length;			for(var i:int=0; i<l; i++)			{				btnList[i].x = spacer + (105*i);				btnList[i].y = spacer;				addChild(btnList[i]);			}			ac1 = new AnimationController(am.getSWF("animation1").content, new AnimationControllerType());			ac1.mc.x = 19;			ac1.mc.y = 90;			addChild(ac1.mc);		}		public function addButtonEvents():void		{			var l:int = btnList.length;			for(var i:int=0; i<l; i++)			{				em.he(btnList[i], this, "onBtn"+i);			}		}		public function onBtn0Click():void		{			ac1.play();		}		public function onBtn1Click():void		{			ac1.stop();		}		public function onBtn2Click():void		{			ac1.toggleDirection();		}		public function onBtn3Click():void		{			ac1.frameRate += 1;			label.text = "Current frame rate: " + ac1.frameRate;		}		public function onBtn4Click():void		{			ac1.frameRate -= 1;			if(ac1.frameRate<=0) ac1.frameRate=1;			label.text = "Current frame rate: " + ac1.frameRate;		}		public function onBtn5Click():void		{			ac1.stopAtLabel = !ac1.stopAtLabel;			btnList[5].label = "stop at label: " + String((ac1.stopAtLabel)?"T":"F");		}	}}